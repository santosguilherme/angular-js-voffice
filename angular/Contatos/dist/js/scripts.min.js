var app=angular.module("listaTelefonica",["ngSanitize","ngRoute"]);app.config(["$routeProvider",function(a){a.when("/listaTelefonica",{templateUrl:"view/listaTelefonica.html",controller:"listaTelefonicaCtrl"}),a.when("/contato/:nome",{templateUrl:"view/contato.html",controller:"contatoCtrl"}),a.otherwise({redirectTo:"/listaTelefonica"})}]),app.controller("contatoCtrl",["$scope","$routeParams",function(a,b){a.message="Contato "+b.nome}]),app.controller("listaTelefonicaCtrl",["$scope","$http",function(a,b){a.titulo="<i>Lista Telefônica</i>",a.contatos=[];var c=function(){b.get("http://localhost:3412/contatos").success(function(b){a.contatos=b})};c(),a.operadoras=[{id:1,nome:"Tim",planos:["Liberty","Infinity"]},{id:2,nome:"Vivo",planos:["4G SmartVivo","SmartPlus"]},{id:3,nome:"Claro",planos:["Sem Sinal","Não Funciona"]}],a.adicionarContato=function(d){b.post("http://localhost:3412/contatos",d).success(function(){c()}),delete a.contato,a.contatoForm.$setPristine()},a.message="Por favor, preencha os campos!"}]),app.directive("alert",["$timeout",function(){return{templateUrl:"alert.html",restrict:"AE",scope:{topic:"@"},transclude:!0,link:function(a){a.exibir=!0,a.topic="XYZ",a.fecharAlert=function(){a.exibir=!1}}}}]),app.filter("telefone",function(){return function(a,b,c){return b=b||"-",c=c||"!",a.substring(0,4)+b+a.substring(4)+c}});